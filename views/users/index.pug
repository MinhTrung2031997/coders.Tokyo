extends ../layouts/common

block content
    h1
       span Users
        a.ml-3.btn.btn-primary(href="/users/create") New
    br
    br
    form(action="/users/search", method="GET", class="d-flex")
        input(type="search", name="q", id="input-field", class="form-control")
        button(class="btn btn-primary ml-2") Search
    table.table
        tr
            th Name
            th Phone
            th Actions
        each user in users
            tr
                td= user.name
                td= user.phone
                td
                    a.btn.btn-light(href="/users/" + user.id) view

    script.
        let searchInput = document.getElementById('input-field');
        console.log(searchInput.value);
        searchInput.addEventListener('change', function () {
            sessionStorage.setItem('draft', searchInput.value)
        })
        searchInput.value = sessionStorage.getItem('draft');

